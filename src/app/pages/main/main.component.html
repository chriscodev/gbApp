<!-- Copyright (c) 2024-2025 Triveni Digital, Inc. All rights reserved. -->

<div id="main-wrapper">
  <app-header
    [dataHead]="allUsers"
    [dataUser]="curUsers"
    (headChanged)="headChangedHandler($event)"
  ></app-header>
  <app-sidebar [dataSide]="toggleDiv"></app-sidebar>
  <!-- ============================================================== -->
  <!-- Page wrapper  -->
  <!-- ============================================================== -->
  <div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
      <!-- ============================================================== -->
      <!-- Bread crumb and right sidebar toggle -->
      <!-- ============================================================== -->
      <!-- <div class="row page-titles">
         <div class="col-md-7 align-self-center">
           <app-breadcrumbs></app-breadcrumbs>
         </div>
       </div>-->
      <div class="row">
      </div>
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center justify-content-center vh-100" *ngIf="loadMainModule">
                  <div class="spinner-border text-primary" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                </div>
              <ng-container *ngIf="!loadMainModule">
                <router-outlet (activate)="onActivate($event)"></router-outlet>
              </ng-container>
              <app-timeout-modals
                (parentComponent)="restartMonitoringTimer()"
              ></app-timeout-modals>
            </div>
          </div>
        </div>
      </div>

      <!-- ============================================================== -->
      <!-- Right sidebar -->
      <!-- ============================================================== -->
      <!-- .right-sidebar -->
      <div class="right-sidebar">
        <div class="slimscrollright">
          <div class="rpanel-title">
            <img src="assets/images/td.ico" alt="user" class="img-circle"/>
            {{ curUsers?.username
            }}<span><i class="ti-close right-side-toggle"></i></span>
          </div>
          <div class="r-panel-body">
            <!-- text-->
            <a href="javascript:void(0)" class="dropdown-item"
            ><i class="ti-user"></i> My Profile</a
            >
            <!-- text-->
            <div class="dropdown-divider"></div>
            <!-- text-->
            <!-- text-->
            <a href="javascript:void(0)" class="dropdown-item"
            ><i class="ti-email"></i> Inbox</a
            >
            <!-- text-->
            <div class="dropdown-divider"></div>
            <!-- text-->
            <a href="javascript:void(0)" class="dropdown-item"
            ><i class="ti-settings"></i> Account Setting</a
            >
            <!-- text-->
            <div class="dropdown-divider"></div>
            <!-- text-->
            <a (click)="handleLogout()" class="dropdown-item logOut"
            ><i class="fa fa-power-off"></i> Logout</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>
<app-pending-change></app-pending-change>
